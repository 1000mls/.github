name: Contributor License Agreement Policy
description: CLA policy file

resource: repository
where:
- |
  repository.name.Equals("GitOps", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.Equals("ContributorLicenseAgreement", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.Equals("GitOps.AdvancedSecurity", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.Equals("GitOps.Manifests", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.Equals("GitOps.Clients", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.Equals("GitOps.PolicyEngine", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.Equals("GitOps.Branches", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.Equals("GitOps.MandatoryFiles", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.Equals("GitOps.YmlValidation", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.Equals("GitOps.Primitives", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.Equals("GitOps.Commands", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.Equals("GitOps.WatchdogFeedback", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.Equals("GitOps.Context", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.Equals("PullRequestQuantifier", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.startsWith("a", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.startsWith("b", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.startsWith("c", StringComparison.InvariantCultureIgnoreCase)
  || repository.name.startsWith("d", StringComparison.InvariantCultureIgnoreCase)
configuration: 
   claPrimitive:
      claContent: https://raw.githubusercontent.com/microsoft/.github/main/CLA/microsoft.yml
      minimalChangeRequired: 
         files: 2
         codeLines: 16
      bypassOrgs:
         - bloomberg
      bypassUsers:
         - dependabot[bot]
         - greenkeeper[bot]
         - dotnet-maestro[bot]
         - dependabot-preview[bot]
         - openapi-sdkautomation[bot]
         - github-actions[bot]
         - content-assistant[bot]
         - reunion-maestro[bot]
         - renovate[bot]
         - microsoft-github-policy-service[bot]
         - msftbot[bot]
         - azure-pipelines[bot]
      prohibitedCompanies:
         - msft
      autoSignMsftEmployee: true
